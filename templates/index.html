{% extends 'layout.html' %}

{% block content %}
<h2>Guest List</h2>
<p>
  {{ attending_count }} guest{{ 's' if attending_count != 1 else '' }} attending, 
  {{ declined_count }} declined
</p>
{% if guests %}
<table>
    <tr>
        <th>Name</th>
        <th>RSVP</th>
        <th>Dietary</th>
        <th>Plus Ones</th>
        <th>Actions</th>
    </tr>
    {% for guest in guests %}
    <tr>
        <td>{{ guest.name }}</td>
        <td>{{ guest.rsvp }}</td>
        <td>{{ guest.dietary }}</td>
        <td>{{ guest.plus_ones }}</td>
        <td>
            <a href="{{ url_for('edit_guest', index=loop.index0) }}">Edit</a> |
            <a href="{{ url_for('delete_guest', index=loop.index0) }}">Delete</a>
        </td>
    </tr>
    {% endfor %}
</table>
{% else %}
<p>No guests yet. <a href="{{ url_for('add_guest') }}">Add one</a>.</p>
{% endif %}
<a href="{{ url_for('add_guest') }}">Add Guest</a>
{% endblock %}